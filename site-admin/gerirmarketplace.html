<!DOCTYPE html>
<html style="height: 100%;">
<head>
    <title>Vetria</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300" rel="stylesheet" type="text/css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.3/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/base/jquery-ui.min.css" />
    <link rel="stylesheet" href="../estilo.css">
    <style>
        body{
            height: 100%;
            margin: 0;
            display: flex;
            flex-direction: column;
        }
    </style>
</head>
<body>
    <!-- Navbar com o retângulo e a curva -->
    <nav class="navbar navbar-expand-lg navbar-fixed">
      <div class="container">
        <a class="navbar-brand" href="adicionar-animal.html" id="texto-icone"><img src="../recursos/paw-title.png" style="height: 45px;"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse rounded-5" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item" id="nav-services">
              <a class="nav-link" href="adicionar-animal.html">
                Adicionar Animal
              </a>
            </li>
            <li class="nav-item" id="nav-marketplace">
                <a class="nav-link" href="calendario-admin.html">Consultas Marcadas</a>
              </li>
            <li class="nav-item" id="nav-gerir    ">
              <a class="nav-link" href="gerirmarketplace.html" >Gerir Marketplace</a>
            </li>
            <li class="nav-item" id="nav-gerir    ">
              <a class="nav-link" href="gerirdogwalking.html">Gerir Dog-walking</a>
            </li>
            <li class="nav-item" id="nav-about">
              <a class="nav-link" href="#" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDark-Sobre" aria-controls="offcanvasDark">Sobre</a>
            </li>
            <li class="nav-item" id="nav-login">
                <a class="nav-link" href="../login e registo/log_in.html">Entrar</a> 
            </li>
          </ul>
        </div>
      </div>
      <!-- Curva SVG -->
      <svg class="top-curve" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 728.4 77.7">
        <defs>
          <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
            <feDropShadow dx="0" dy="7" stdDeviation="4" flood-color="rgba(0, 0, 0, 0.2)" />
          </filter>
        </defs>
        <path fill="rgb(246, 242, 242)" d="M0 45.3c8.9 1.7 21.6 4 37 6.6C73.7 58.1 103.2 63 140.5 66c27.4 2.1 46.8 3.6 73.5 1.3 10.9-.9 29-2.5 52-8.4 15.1-3.8 16.8-5.6 44.5-14.1 24.7-7.6 37-11.4 49.3-13.7 22.1-4 39.1-3.8 60.8-3.5 23.4.3 41.1 2.3 55.9 4 26 2.9 47.8 6.9 51.1 7.5 18.3 3.3 19.6 4.3 30.8 5.7 4.6.6 22.2 2.6 45.4 1.3 5.7-.3 21.8-1.4 42.3-5.7 7.2-1.5 18.8-4 33.5-9.2 14.6-5.2 25.4-10.7 31.3-13.7 4.4-2.2 10.2-4.3 16.7-9.2 4.1-3.1 7.2-6.1 9.2-8.3H.2L0 45.3z" style="filter: url(#shadow);"></path>
      </svg> 
    </nav>
  <!-- Menu lateral -->
    <div class=" offcanvas offcanvas-start text-bg-dark" tabindex="-1" id="offcanvasDark-Contactos" aria-labelledby="offcanvasDarkLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasDarkLabel">Contactos</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <p><i class="fa fa-regular fa-phone"></i>  Telefone: 234 348 051</p>
        <p><i class="fa fa-exclamation-triangle"></i>  Urgências (24hr)</p>
        <p><i class="fa fa-regular fa-phone"></i>  Telemóvel: 969 939 939</p>
        <p> </p>
        <p><i class="fa fa-envelope"></i> Email: </p>
        <p>vetria.aveiro@gmail.com</p>
      </div>
    </div>
    <div class=" offcanvas offcanvas-start text-bg-dark" tabindex="-1" id="offcanvasDark-Sobre" aria-labelledby="offcanvasDarkLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasDarkLabel">Vetria</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <p>Projeto realizado por:</p>
        <p>125091: Bernardo Miguel dos Santos </p>
        <p>125264: Luís Correia </p>
        <p>124754: Mª Inês Gonçalves </p>
        <p>125696: Rodrigo Machado Pereira </p>
        <p>UA- deti</p>
      </div>
    </div>
    <!--Menu Lateral User-->
    <div class="offcanvas offcanvas-start text-bg-dark" id="offcanvasDark-User" tabindex="-1" aria-labelledby="offcanvasDarkLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasDarkLabel">Utilizador</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <a style="text-decoration: none;" calss='btn' onclick="log_out();">Log Out</a>
      </div>
    </div>
    <div class="container" style="padding-top: 180px;">
      <div class="row" style="text-align: center;"><h1>Gerir Marketplace</h1></div>
      <div class="border-bottom py-3 mb-3">
        <h2><i class="fa fa-truck"></i>  Produtos do Marketplace</h2>
      </div>
      <div class="row pt-3">
        <table class="table table-sm table-striped">
          <thead class="bg-dark text-light">
              <tr>
                  <th>Nome do Produto</th>
                  <th>Id do Produto</th>
                  <th>Preço</th>
                  <th>Fornecedor</th>
                  <th></th>
              </tr>
          </thead>
          <tbody data-bind="foreach: participants">
              <tr style="cursor: pointer;">
                  <td data-bind="text:name"></td>
                  <td data-bind="text:id"></td>
                  <td data-bind="text:price"></td>
                  <td data-bind="text:colaborator"></td>
                  <td class="text-end">
                      <button class="btn btn-sm btn-danger" data-bind="click:$parent.deleteParticipant"><i class="fa fa-trash-o"></i></button>
                  </td>
              </tr>
          </tbody>
      </table>
    </div>
    <p class="text-end">
      <button data-bs-target="#product_modal" data-bs-toggle="modal" class="btn btn-outline-dark"><i class="fa fa-plus"></i></button>
      <button data-bind="click:readParticipants, disable : hasParticipants" class="btn btn-outline-dark"><i class="fa fa-folder-open-o"></i></button>
    </p>
    </div>
    <div class="modal modal-lg" id="product_modal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header" style="background-color: #bb9469;">
            <h5 class="modal-title text-light">Adicionar produto</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="container-fluid">
              <div class="row mb-3">
                <div class="col-2 col-form-label">
                  <p class="form-label">Nome: </p>
                </div>
                <div class="col-10">
                  <input class="form-control" type="text" id="product_name" placeholder="Name">
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-2 col-form-label">
                  <label for="product_id" class="form-label">Id do porduto:</label>
                </div>
                <div class="col-10">
                  <input type="text" class="form-control" placeholder="ID" id="product_id">
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-2 col-form-label">
                  <label for="product_price" class="form-label">Preço:</label>
                </div>
                <div class="col-10 align-center">
                  <input type="text" class="form-control" placeholder="Preço" id="product_price">
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-2 col-form-label">
                  <label for="product_colaborator" class="form-label">Fornecedor:</label>
                </div>
                <div class="col-10 align-center">
                  <input type="text" class="form-control" placeholder="Fornecedor" id="product_colaborator">
                </div>
              </div>
              <div class="row">
                <div class="col-2 col-form-label">
                  <label for="product_image" class="form-label">Imagem:</label>
                </div>
                <div class="col-10">
                  <input type="file" class="form-control" placeholder="Image" accept="image/*" id="product_image">
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary btn-sm" data-bind="click : create_participant">Create</button>
          </div>
        </div>
      </div>
    </div>
    <footer class="container-fluid" style="background-color:rgb(246, 242, 242); padding:0px;">
      <svg class="top-curve" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 728.4 77.7" style="width: 100%; height: 90px;">
        <path fill="white" d="M0 45.3c8.9 1.7 21.6 4 37 6.6C73.7 58.1 103.2 63 140.5 66c27.4 2.1 46.8 3.6 73.5 1.3 10.9-.9 29-2.5 52-8.4 15.1-3.8 16.8-5.6 44.5-14.1 24.7-7.6 37-11.4 49.3-13.7 22.1-4 39.1-3.8 60.8-3.5 23.4.3 41.1 2.3 55.9 4 26 2.9 47.8 6.9 51.1 7.5 18.3 3.3 19.6 4.3 30.8 5.7 4.6.6 22.2 2.6 45.4 1.3 5.7-.3 21.8-1.4 42.3-5.7 7.2-1.5 18.8-4 33.5-9.2 14.6-5.2 25.4-10.7 31.3-13.7 4.4-2.2 10.2-4.3 16.7-9.2 4.1-3.1 7.2-6.1 9.2-8.3H.2L0 45.3z"></path>
      </svg>
      <img src="../recursos/Universidade-de-Aveiro.png" style="height:60px;float: right;">
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.1/knockout-latest.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>
    <script src="marketplace.js"></script>
    <script>
      $(document).ready(() => {
        let user = localStorage.getItem('user');
        console.log(localStorage.getItem('user'));
        if(localStorage.user){
          document.getElementById("nav-login").innerHTML = '<a class="nav-link" href="#" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDark-User" aria-controls="offcanvasDark">' + user + '</a>';
        }
      });

      function log_out(){
        localStorage.removeItem('user');
        window.location.href = '../login e registo/log_in.html';
      }
    </script>
</body>
</html>
